===================
인증 테스트
===================

도메인 테스트
------------

TestUser
^^^^^^^

사용자 상태 관리 (TestUserStatus)
"""""""""""""""""""""""""""""""

사용자 비활성화 (test_deactivate_user)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
:시나리오:
    * 활성 상태의 사용자 생성
    * 비활성화 상태로 변경
    * 새로운 User 인스턴스 검증

:검증 항목:
    * 원본 객체는 변경되지 않음
    * 새 인스턴스의 상태가 변경됨
    * 다른 속성들은 동일하게 유지

비활성 사용자 작업 제한 (test_inactive_user_operations)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
:시나리오:
    * 비활성 상태의 사용자 생성
    * 인증 시도
    * 상태 변경 시도

:검증 항목:
    * 모든 작업에서 InactiveUserError 발생
    * 적절한 에러 메시지 포함

인증 관련 테스트 (TestUserAuthentication)
"""""""""""""""""""""""""""""""""""""

이메일 사용자 인증 가능 여부 (test_can_authenticate_email_user)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
:시나리오:
    * 활성 상태의 이메일 사용자 생성
    * 인증 가능 여부 확인

:검증 항목:
    * 이메일 사용자는 인증 가능

OAuth 사용자 인증 불가능 (test_cannot_authenticate_oauth_user)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
:시나리오:
    * Google OAuth 사용자 생성
    * 인증 가능 여부 확인

:검증 항목:
    * OAuth 사용자는 인증 불가능

애플리케이션 테스트
-----------------

TestAuthenticate
^^^^^^^^^^^^^^^

인증 성공 (test_authenticate_user_success)
"""""""""""""""""""""""""""""""""""""""
:시나리오:
    * 활성 상태의 이메일 사용자 생성
    * 올바른 비밀번호로 인증 시도

:검증 항목:
    * 인증 성공 (True 반환)

잘못된 비밀번호 (test_authenticate_with_wrong_password)
"""""""""""""""""""""""""""""""""""""""""""""""""
:시나리오:
    * 활성 상태의 이메일 사용자 생성
    * 잘못된 비밀번호로 인증 시도

:검증 항목:
    * 인증 실패 (False 반환)

유효하지 않은 사용자 (test_authenticate_with_invalid_user)
""""""""""""""""""""""""""""""""""""""""""""""""""
:시나리오:
    * None 사용자로 인증 시도

:검증 항목:
    * 인증 실패 (False 반환)

테스트 설계 원칙
--------------

책임 분리
^^^^^^^^
* 도메인 테스트: 인증 가능 여부 검증
* 애플리케이션 테스트: 실제 인증 프로세스 검증

테스트 격리
^^^^^^^^^
* fixture를 통한 테스트 데이터 관리
* 각 테스트는 독립적으로 실행 가능

테스트 가독성
^^^^^^^^^^^
* Given-When-Then 패턴 사용
* 명확한 시나리오 문서화
* 검증 항목 명시 