=================
비밀번호 정책
=================

도메인 규칙
-----------

비밀번호 값 객체
^^^^^^^^^^^^^^^
* 비밀번호는 도메인의 핵심 값 객체로 취급
* 해시된 값만을 저장하고 평문은 절대 저장하지 않음
* 비밀번호 정책 검증은 애플리케이션 계층에서 수행

비밀번호 검증 규칙
^^^^^^^^^^^^^^^^^
* 비밀번호 해시 생성은 인프라 계층의 책임
* 도메인 계층은 해시된 값의 비교만 담당
* OAuth 사용자는 비밀번호 검증에서 제외

책임 분리
---------

도메인 계층
^^^^^^^^^^
* Password 값 객체를 통한 비밀번호 캡슐화
* 해시된 비밀번호의 존재 여부 검증
* 비밀번호 비교 결과 반환

애플리케이션 계층
^^^^^^^^^^^^^^^
* 비밀번호 정책 검증 (길이, 복잡도 등)
* PasswordHasher 인터페이스 정의
* 비밀번호 해시 생성 과정 조정

인프라 계층
^^^^^^^^^^
* 실제 해시 알고리즘 구현 (bcrypt 등)
* 솔트 생성 및 관리
* 보안 관련 설정 처리

인터페이스
---------

.. code-block:: python

    class PasswordHasher(ABC):
        """비밀번호 해시 처리 인터페이스"""
        
        @abstractmethod
        def hash(self, plain_password: str) -> str:
            """비밀번호 해시 생성"""
            pass
            
        @abstractmethod
        def verify(self, plain_password: str, hashed_password: str) -> bool:
            """비밀번호 검증"""
            pass 