도메인 이벤트
=========================================

회원 도메인
-----------

회원_가입됨
^^^^^^^^^^^
:트리거 소스:
    * 기본 회원가입 폼 제출
    * Google/GitHub OAuth 인증

:결과 영향:
    * 프로필 기본값 자동 생성
    * 웰컴 이메일 전송
    * 개인 작업공간 초기화

회원_로그인됨
^^^^^^^^^^^^^
:트리거 소스:
    * 로그인 성공 시
    * 리프레시 토큰 갱신

:결과 영향:
    * 마지막 접속 시간 업데이트
    * 미확인 알림 배지 표시
    * 자주 사용하는 프로젝트 바로가기 노출

회원_탈퇴됨
^^^^^^^^^^^
:트리거 소스:
    * 계정 설정에서 직접 탈퇴
    * 6개월 미접속 시 자동 비활성화

:결과 영향:
    * 소프트 삭제 처리(30일 보관)
    * 참여 프로젝트 리스트에서 숨김
    * 이메일 구독 해제

프로젝트 도메인
---------------

프로젝트-권한_변경됨
^^^^^^^^^^^^^^^^^^^^^^^^^^^^
:트리거 소스:
    * 관리자의 역할 변경 요청
    * 참여자 스스로 권한 다운그레이드

:결과 영향:
    * viewer: 읽기 전용(댓글/상태 변경 불가)
    * member: 작업 생성/수정 권한
    * manager: 프로젝트 설정 변경 권한
    * 변경 내역 감사 로그 기록

프로젝트_생성됨
^^^^^^^^^^^^^^^
:트리거 소스:
    * "+ 새 프로젝트" 버튼 클릭
    * 템플릿 복제 생성

:결과 영향:
    * 간단한 칸반 보드 생성(To-Do/Doing/Done)
    * 생성자 자동 관리자 지정
    * 초대 링크 공유 기능 활성화

프로젝트-참여자_추가됨
^^^^^^^^^^^^^^^^^^^^^^^
:트리거 소스:
    * 초대 링크 접속
    * 이메일 초대 수락

:결과 영향:
    * 기본 권한 부여(member)
    * 초대 시 역할 선택 가능(viewer/member)
    * 프로젝트 활동 피드에 기록

프로젝트_종료됨
^^^^^^^^^^^^^^^
:트리거 소스:
    * 명시적 종료 요청
    * 2개월 간 활동 없음

:결과 영향:
    * 진행 중인 작업 일시 중단 표시
    * 결과 요약 PDF 자동 생성
    * 보관 모드 전환(읽기 전용, 기본 1년)
    * 보관 해제 요청 버튼 비활성화(추후 구현)

요구사항 도메인
---------------

요구사항-선행조건_연결됨
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
:트리거 소스:
    * 요구사항 상세 페이지에서 의존성 추가
    * CSV 배치 업로드 시 관계 매핑

:결과 영향:
    * Gantt 차트에 의존성 화살표 표시
    * 선행 조건 미충족 시 경고 아이콘 노출
    * 자동 완료 차단 기능 활성화

요구사항_등록됨
^^^^^^^^^^^^^^^^^
:트리거 소스:
    * 웹 에디터로 신규 작성
    * 마크다운 파일 임포트

:결과 영향:
    * 기본 카드 생성(제목/설명/마감일)
    * 작성자에게 자동 할당
    * 관련 문서 저장소 연결

요구사항_상태_변경됨
^^^^^^^^^^^^^^^^^^^^^
:트리거 소스:
    * 상태 버튼 클릭
    * 드래그 앤 드롭 이동

:결과 영향:
    * 변경 히스토리 타임라인 기록
    * 이메일 알림 전송(옵션)
    * 대시보드 실시간 반영

요구사항_완료됨
^^^^^^^^^^^^^^^
:트리거 소스:
    * 완료 체크박스 선택
    * 모든 선행 요구사항 충족 시

:결과 영향:
    * 완료 날짜 타임스탬프
    * 진행률 % 자동 계산
    * 완료 보고서 다운로드 링크 생성

협업 도메인
-----------

알림_전송됨
^^^^^^^^^^^^^^^^^^^^
:트리거 소스:
    * 댓글 작성/상태 변경/완료 등 주요 액션
    * 시스템 주요 정책 변경 시

:결과 영향:
    * 사용자 지정 채널로 알림 라우팅
    * 알림 확인 상태 추적
    * 실패 시 재시도 큐 적재

작업_댓글_추가됨
^^^^^^^^^^^^^^^^^^
:트리거 소스:
    * 댓글 입력 후 저장
    * 마크다운 첨부 파일 포함 시

:결과 영향:
    * 담당자에게 이메일 알림
    * 작업 카드 하단에 기록
    * @멘션 시 할당자 변경 가능