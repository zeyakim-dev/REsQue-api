도메인 이벤트
=========================================

회원 도메인
-----------

회원_가입됨
^^^^^^^^^^^
:트리거 소스:
    * 기본 회원가입 폼 제출
    * Google/GitHub OAuth 인증

:결과 영향:
    * 프로필 기본값 자동 생성
    * 웰컴 이메일 전송
    * 개인 작업공간 초기화

회원_로그인됨
^^^^^^^^^^^^^
:트리거 소스:
    * 로그인 성공 시
    * 리프레시 토큰 갱신

:결과 영향:
    * 마지막 접속 시간 업데이트
    * 미확인 알림 배지 표시
    * 자주 사용하는 프로젝트 바로가기 노출

회원_탈퇴됨
^^^^^^^^^^^
:트리거 소스:
    * 계정 설정에서 직접 탈퇴
    * 6개월 미접속 시 자동 비활성화

:결과 영향:
    * 소프트 삭제 처리(30일 보관)
    * 참여 프로젝트 리스트에서 숨김
    * 이메일 구독 해제

프로젝트 도메인
---------------

프로젝트-권한_변경됨
^^^^^^^^^^^^^^^^^^^^^^^^^^^^
:트리거 소스:
    * 관리자의 역할 변경 요청
    * 참여자 스스로 권한 다운그레이드

:결과 영향:
    * viewer: 읽기 전용(댓글/상태 변경 불가)
    * member: 작업 생성/수정 권한
    * manager: 프로젝트 설정 변경 권한
    * 변경 내역 감사 로그 기록

프로젝트_생성됨
^^^^^^^^^^^^^^^
:트리거 소스:
    * "+ 새 프로젝트" 버튼 클릭
    * 템플릿 복제 생성

:결과 영향:
    * 간단한 칸반 보드 생성(To-Do/Doing/Done)
    * 생성자 자동 관리자 지정
    * 초대 링크 공유 기능 활성화

프로젝트-참여자_추가됨
^^^^^^^^^^^^^^^^^^^^^^^
:트리거 소스:
    * 초대 링크 접속
    * 이메일 초대 수락

:결과 영향:
    * 기본 권한 부여(member)
    * 초대 시 역할 선택 가능(viewer/member)
    * 프로젝트 활동 피드에 기록

프로젝트_종료됨
^^^^^^^^^^^^^^^
:트리거 소스:
    * 명시적 종료 요청
    * 2개월 간 활동 없음

:결과 영향:
    * 진행 중인 작업 일시 중단 표시
    * 결과 요약 PDF 자동 생성
    * 보관 모드 전환(읽기 전용, 기본 1년)
    * 보관 해제 요청 버튼 비활성화(추후 구현)

요구사항 도메인
---------------

요구사항_생성됨
^^^^^^^^^^^^^^^^^
:트리거 소스:
* 요구사항 작성 페이지에서 신규 등록
* API를 통한 요구사항 생성

:결과 영향:
* 기본 카드 생성(제목/설명/마감일 포함)
* 작성자에게 자동 할당(옵션)
* 프로젝트 활동 피드에 생성 내역 기록
* 요구사항 목록과 Gantt 차트에 즉시 반영

요구사항_수정됨
^^^^^^^^^^^^^^^^^
:트리거 소스:
    * 요구사항 상세 페이지에서 편집
    * API를 통한 요구사항 업데이트

:결과 영향:
    * 변경 내역 히스토리 저장
    * 수정 시점 기준 담당자에게 알림 발송(옵션)
    * 이전 버전으로 롤백 기능 지원(추후 구현)

요구사항_삭제됨
^^^^^^^^^^^^^^^^^
:트리거 소스:
    * 요구사항 상세 페이지에서 삭제 요청
    * API를 통한 삭제 처리

:결과 영향:
    * 소프트 삭제로 처리(30일 보관 후 영구 삭제)
    * 관련 작업과의 연관 관계 해제
    * 프로젝트 활동 피드에 삭제 기록 추가

요구사항-우선순위_변경됨
^^^^^^^^^^^^^^^^^^^^^^^^^^
:트리거 소스:
    * 우선순위 드롭다운 변경
    * 요구사항 순서 드래그 앤 드롭 이동

:결과 영향:
    * 우선순위 변경 로그 기록
    * 대시보드와 Gantt 차트에 실시간 반영
    * 변경 시 관련 담당자에게 알림(옵션)

요구사항-태그_추가됨
^^^^^^^^^^^^^^^^^^^^^
:트리거 소스:
    * 요구사항 편집 시 태그 입력
    * 태그 일괄 등록 CSV 업로드

:결과 영향:
    * 태그 기반 필터링 지원
    * 검색 인덱스에 태그 추가
    * 태그 변경 내역 감사 로그 기록

요구사항-코멘트_추가됨
^^^^^^^^^^^^^^^^^^^^^
:트리거 소스:
    * 요구사항 상세 화면에서 코멘트 작성
    * API를 통한 코멘트 등록

:결과 영향:
    * 담당자에게 알림 발송(옵션)
    * 코멘트에 첨부 파일 지원
    * 타임라인에 코멘트 기록 반영

요구사항-담당자_변경됨
^^^^^^^^^^^^^^^^^^^^^^^
:트리거 소스:
    * 담당자 드롭다운에서 변경
    * @멘션으로 담당자 지정

:결과 영향:
    * 변경 즉시 담당자에게 알림 발송
    * 이전 담당자에서 새로운 담당자로 업무 이관
    * 요구사항 카드에 담당자 정보 업데이트

협업 도메인
-----------

알림_전송됨
^^^^^^^^^^^^^^^^^^^^
:트리거 소스:
    * 댓글 작성/상태 변경/완료 등 주요 액션
    * 시스템 주요 정책 변경 시

:결과 영향:
    * 사용자 지정 채널로 알림 라우팅
    * 알림 확인 상태 추적
    * 실패 시 재시도 큐 적재

작업_댓글_추가됨
^^^^^^^^^^^^^^^^^^
:트리거 소스:
    * 댓글 입력 후 저장
    * 마크다운 첨부 파일 포함 시

:결과 영향:
    * 담당자에게 이메일 알림
    * 작업 카드 하단에 기록
    * @멘션 시 할당자 변경 가능